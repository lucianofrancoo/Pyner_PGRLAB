[2026-02-06 12:43:16,396] INFO     | __main__ | ================================================================================
[2026-02-06 12:43:16,396] INFO     | __main__ | üöÄ PHASE 2: QUERY OPTIMIZER - INITIALIZING
[2026-02-06 12:43:16,396] INFO     | __main__ | ================================================================================
[2026-02-06 12:43:16,396] INFO     | __main__ | 
üîÑ Starting Phase 2 pipeline...

[2026-02-06 12:43:16,396] INFO     | __main__ | ‚úì Validating Phase 1 Knowledge Base...
[2026-02-06 12:43:16,396] INFO     | __main__ | ‚úÖ KB validated
[2026-02-06 12:43:16,396] INFO     | __main__ |    Organisms: 100
[2026-02-06 12:43:16,396] INFO     | __main__ |    Experiments: 365,771,189
[2026-02-06 12:43:16,396] INFO     | __main__ |    Strategies: 37
[2026-02-06 12:43:16,396] INFO     | __main__ | 
üìù Generating queries from KB...
[2026-02-06 12:43:16,396] INFO     | scripts.query_builder | üî® QueryBuilder initialized with KB: stage3_knowledge_base.json
[2026-02-06 12:43:16,396] ERROR    | scripts.query_builder | ‚ùå Failed to load KB: 'int' object is not iterable
[2026-02-06 12:43:16,396] ERROR    | scripts.query_builder | ‚ùå Cannot build queries without KB
[2026-02-06 12:43:16,396] INFO     | __main__ | ‚úÖ Generated 0 queries
[2026-02-06 12:43:16,396] INFO     | scripts.query_builder | ‚úÖ Query cache saved: /mnt/64274670-793f-4763-b132-b5c7b1178bb0/lahumada/Pyner_PGRLAB/phase2/data/query_cache.json
[2026-02-06 12:43:16,396] INFO     | __main__ | 
üî® Building vector database...
[2026-02-06 12:43:16,396] INFO     | scripts.vector_db | üîç VectorDatabase initialized (FAISS: True)
[2026-02-06 12:43:16,396] INFO     | scripts.vector_db | üì• Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
[2026-02-06 12:43:16,397] INFO     | sentence_transformers.SentenceTransformer | Use pytorch device_name: cuda:0
[2026-02-06 12:43:16,397] INFO     | sentence_transformers.SentenceTransformer | Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
[2026-02-06 12:43:16,728] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:43:16,732] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:16,737] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:16,891] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:43:16,895] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:16,899] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:17,047] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:43:17,052] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:17,228] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/README.md "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:43:17,232] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/README.md "HTTP/1.1 200 OK"
[2026-02-06 12:43:17,236] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/README.md "HTTP/1.1 200 OK"
[2026-02-06 12:43:17,388] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:43:17,391] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:17,539] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/sentence_bert_config.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:43:17,543] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/sentence_bert_config.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:17,546] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/sentence_bert_config.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:17,698] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/adapter_config.json "HTTP/1.1 404 Not Found"
[2026-02-06 12:43:17,847] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/config.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:43:17,850] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:17,854] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:18,029] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/model.safetensors "HTTP/1.1 302 Found"
[2026-02-06 12:43:18,029] WARNING  | huggingface_hub.utils._http | Warning: You are sending unauthenticated requests to the HF Hub. Please set a HF_TOKEN to enable higher rate limits and faster downloads.
[2026-02-06 12:43:18,188] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/models/sentence-transformers/all-MiniLM-L6-v2/xet-read-token/c9745ed1d9f207416be6d2e6f8de32d1f16199bf "HTTP/1.1 200 OK"
[2026-02-06 12:43:20,427] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/config.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:43:20,431] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:20,583] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/tokenizer_config.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:43:20,587] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/tokenizer_config.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:20,590] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/tokenizer_config.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:20,746] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=false&expand=false "HTTP/1.1 404 Not Found"
[2026-02-06 12:43:20,898] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main?recursive=true&expand=false "HTTP/1.1 200 OK"
[2026-02-06 12:43:21,045] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/vocab.txt "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:43:21,049] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/vocab.txt "HTTP/1.1 200 OK"
[2026-02-06 12:43:21,053] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/vocab.txt "HTTP/1.1 200 OK"
[2026-02-06 12:43:21,206] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/tokenizer.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:43:21,210] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/tokenizer.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:21,214] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/tokenizer.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:21,369] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/added_tokens.json "HTTP/1.1 404 Not Found"
[2026-02-06 12:43:21,516] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/special_tokens_map.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:43:21,519] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/special_tokens_map.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:21,523] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/special_tokens_map.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:21,677] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/chat_template.jinja "HTTP/1.1 404 Not Found"
[2026-02-06 12:43:21,854] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/1_Pooling/config.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:43:21,858] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/1_Pooling%2Fconfig.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:21,862] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/1_Pooling%2Fconfig.json "HTTP/1.1 200 OK"
[2026-02-06 12:43:22,015] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/models/sentence-transformers/all-MiniLM-L6-v2 "HTTP/1.1 200 OK"
[2026-02-06 12:43:22,127] INFO     | scripts.vector_db | ‚úÖ Embedder loaded (dims: 384)
[2026-02-06 12:43:22,127] INFO     | scripts.vector_db | üìù Embedding 0 queries...
[2026-02-06 12:43:22,128] INFO     | scripts.vector_db | üî® Creating FAISS index...
[2026-02-06 12:43:22,128] ERROR    | scripts.vector_db | ‚ùå Index creation failed: not enough values to unpack (expected 2, got 1)
[2026-02-06 12:43:22,128] ERROR    | __main__ | ‚ùå Failed to create vector index
[2026-02-06 12:44:24,461] INFO     | __main__ | ================================================================================
[2026-02-06 12:44:24,461] INFO     | __main__ | üöÄ PHASE 2: QUERY OPTIMIZER - INITIALIZING
[2026-02-06 12:44:24,461] INFO     | __main__ | ================================================================================
[2026-02-06 12:44:24,461] INFO     | __main__ | 
üîÑ Starting Phase 2 pipeline...

[2026-02-06 12:44:24,461] INFO     | __main__ | ‚úì Validating Phase 1 Knowledge Base...
[2026-02-06 12:44:24,461] INFO     | __main__ | ‚úÖ KB validated
[2026-02-06 12:44:24,461] INFO     | __main__ |    Organisms: 100
[2026-02-06 12:44:24,461] INFO     | __main__ |    Experiments: 365,771,189
[2026-02-06 12:44:24,461] INFO     | __main__ |    Strategies: 37
[2026-02-06 12:44:24,461] INFO     | __main__ | 
üìù Generating queries from KB...
[2026-02-06 12:44:24,461] INFO     | scripts.query_builder | üî® QueryBuilder initialized with KB: stage3_knowledge_base.json
[2026-02-06 12:44:24,461] INFO     | scripts.query_builder | ‚úÖ KB loaded: 100 organisms, 10 strategies
[2026-02-06 12:44:24,461] INFO     | scripts.query_builder | ‚úÖ Generated 199 organism queries
[2026-02-06 12:44:24,461] INFO     | scripts.query_builder | ‚úÖ Generated 7 strategy queries
[2026-02-06 12:44:24,461] INFO     | scripts.query_builder | ‚úÖ Generated 5 disease queries
[2026-02-06 12:44:24,461] INFO     | scripts.query_builder | üìä Total queries generated: 211
[2026-02-06 12:44:24,461] INFO     | __main__ | ‚úÖ Generated 211 queries
[2026-02-06 12:44:24,461] INFO     | __main__ |    - comparative: 1
[2026-02-06 12:44:24,461] INFO     | __main__ |    - disease: 5
[2026-02-06 12:44:24,461] INFO     | __main__ |    - gene_expression: 98
[2026-02-06 12:44:24,461] INFO     | __main__ |    - organism: 100
[2026-02-06 12:44:24,461] INFO     | __main__ |    - strategy: 7
[2026-02-06 12:44:24,462] INFO     | scripts.query_builder | ‚úÖ Query cache saved: /mnt/64274670-793f-4763-b132-b5c7b1178bb0/lahumada/Pyner_PGRLAB/phase2/data/query_cache.json
[2026-02-06 12:44:24,462] INFO     | __main__ | 
üî® Building vector database...
[2026-02-06 12:44:24,462] INFO     | scripts.vector_db | üîç VectorDatabase initialized (FAISS: True)
[2026-02-06 12:44:24,462] INFO     | scripts.vector_db | üì• Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
[2026-02-06 12:44:24,462] INFO     | sentence_transformers.SentenceTransformer | Use pytorch device_name: cuda:0
[2026-02-06 12:44:24,462] INFO     | sentence_transformers.SentenceTransformer | Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
[2026-02-06 12:44:24,791] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:24,796] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json "HTTP/1.1 200 OK"
[2026-02-06 12:44:24,944] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:24,948] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json "HTTP/1.1 200 OK"
[2026-02-06 12:44:25,100] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:25,104] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json "HTTP/1.1 200 OK"
[2026-02-06 12:44:25,256] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/README.md "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:25,259] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/README.md "HTTP/1.1 200 OK"
[2026-02-06 12:44:25,411] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:25,414] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json "HTTP/1.1 200 OK"
[2026-02-06 12:44:25,568] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/sentence_bert_config.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:25,572] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/sentence_bert_config.json "HTTP/1.1 200 OK"
[2026-02-06 12:44:25,726] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/adapter_config.json "HTTP/1.1 404 Not Found"
[2026-02-06 12:44:25,880] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/config.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:25,884] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config.json "HTTP/1.1 200 OK"
[2026-02-06 12:44:26,088] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/config.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:26,088] WARNING  | huggingface_hub.utils._http | Warning: You are sending unauthenticated requests to the HF Hub. Please set a HF_TOKEN to enable higher rate limits and faster downloads.
[2026-02-06 12:44:26,091] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config.json "HTTP/1.1 200 OK"
[2026-02-06 12:44:26,244] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/tokenizer_config.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:26,249] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/tokenizer_config.json "HTTP/1.1 200 OK"
[2026-02-06 12:44:26,407] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=false&expand=false "HTTP/1.1 404 Not Found"
[2026-02-06 12:44:26,568] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main?recursive=true&expand=false "HTTP/1.1 200 OK"
[2026-02-06 12:44:26,748] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/1_Pooling/config.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:26,752] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/1_Pooling%2Fconfig.json "HTTP/1.1 200 OK"
[2026-02-06 12:44:26,909] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/models/sentence-transformers/all-MiniLM-L6-v2 "HTTP/1.1 200 OK"
[2026-02-06 12:44:27,013] INFO     | scripts.vector_db | ‚úÖ Embedder loaded (dims: 384)
[2026-02-06 12:44:27,013] INFO     | scripts.vector_db | üìù Embedding 211 queries...
[2026-02-06 12:44:27,288] INFO     | scripts.vector_db | üî® Creating FAISS index...
[2026-02-06 12:44:27,288] INFO     | scripts.vector_db | ‚úÖ Index created with 211 vectors
[2026-02-06 12:44:27,288] INFO     | scripts.vector_db | ‚úÖ Index saved: /mnt/64274670-793f-4763-b132-b5c7b1178bb0/lahumada/Pyner_PGRLAB/phase2/data/pyner_vectors.faiss
[2026-02-06 12:44:27,289] INFO     | scripts.vector_db | ‚úÖ Metadata saved: /mnt/64274670-793f-4763-b132-b5c7b1178bb0/lahumada/Pyner_PGRLAB/phase2/data/pyner_vectors_index.pkl
[2026-02-06 12:44:27,289] INFO     | __main__ | ‚úÖ Vector database created and saved
[2026-02-06 12:44:27,289] INFO     | __main__ |    Total vectors: 211
[2026-02-06 12:44:27,289] INFO     | __main__ |    Embedding dimension: 384
[2026-02-06 12:44:27,289] INFO     | __main__ | 
üîé Initializing retriever...
[2026-02-06 12:44:27,289] INFO     | scripts.vector_db | üîé Retriever initialized
[2026-02-06 12:44:27,289] INFO     | __main__ | ‚úÖ Retriever initialized
[2026-02-06 12:44:27,289] INFO     | __main__ | 
================================================================================
[2026-02-06 12:44:27,289] INFO     | __main__ | ‚úÖ PHASE 2 PIPELINE COMPLETE
[2026-02-06 12:44:27,289] INFO     | __main__ | ================================================================================
[2026-02-06 12:44:27,289] INFO     | __main__ | 
================================================================================
[2026-02-06 12:44:27,289] INFO     | __main__ | üîé TEST RETRIEVAL
[2026-02-06 12:44:27,289] INFO     | __main__ | ================================================================================
[2026-02-06 12:44:27,289] INFO     | __main__ | 
üîç Query: COVID-19 research
[2026-02-06 12:44:27,297] INFO     | __main__ |    1. [0.649] Molecular mechanisms of COVID-19 in Homo sapiens...
[2026-02-06 12:44:27,297] INFO     | __main__ |    2. [0.480] Research studies on Severe acute respiratory syndrome corona...
[2026-02-06 12:44:27,297] INFO     | __main__ |    3. [0.426] Research studies on Salmonella enterica...
[2026-02-06 12:44:27,297] INFO     | __main__ | 
üîç Query: Gene expression in humans
[2026-02-06 12:44:27,300] INFO     | __main__ |    1. [0.663] Gene expression patterns in Homo sapiens...
[2026-02-06 12:44:27,300] INFO     | __main__ |    2. [0.631] Gene expression patterns in human metagenome...
[2026-02-06 12:44:27,300] INFO     | __main__ |    3. [0.576] Gene expression patterns in human skin metagenome...
[2026-02-06 12:44:27,300] INFO     | __main__ | 
üîç Query: Bacterial genomics
[2026-02-06 12:44:27,302] INFO     | __main__ |    1. [0.597] Gene expression patterns in uncultured bacterium...
[2026-02-06 12:44:27,302] INFO     | __main__ |    2. [0.590] Gene expression patterns in bacterium...
[2026-02-06 12:44:27,302] INFO     | __main__ |    3. [0.584] Gene expression patterns in uncultured Bacilli bacterium...
[2026-02-06 12:44:27,302] INFO     | __main__ | 
================================================================================
[2026-02-06 12:44:27,302] INFO     | __main__ | 
üìä Phase 2 Status:
[2026-02-06 12:44:27,302] INFO     | __main__ |    kb_loaded: True
[2026-02-06 12:44:27,302] INFO     | __main__ |    queries_generated: 211
[2026-02-06 12:44:27,302] INFO     | __main__ |    vector_db_ready: True
[2026-02-06 12:44:27,302] INFO     | __main__ |    retriever_ready: True
[2026-02-06 12:44:27,302] INFO     | __main__ |    timestamp: 2026-02-06 12:44:27.302691
[2026-02-06 12:44:42,600] INFO     | __main__ | ================================================================================
[2026-02-06 12:44:42,600] INFO     | __main__ | üöÄ PHASE 2: QUERY OPTIMIZER - INITIALIZING
[2026-02-06 12:44:42,600] INFO     | __main__ | ================================================================================
[2026-02-06 12:44:42,600] INFO     | __main__ | 
üîÑ Starting Phase 2 pipeline...

[2026-02-06 12:44:42,600] INFO     | __main__ | ‚úì Validating Phase 1 Knowledge Base...
[2026-02-06 12:44:42,600] INFO     | __main__ | ‚úÖ KB validated
[2026-02-06 12:44:42,600] INFO     | __main__ |    Organisms: 100
[2026-02-06 12:44:42,600] INFO     | __main__ |    Experiments: 365,771,189
[2026-02-06 12:44:42,600] INFO     | __main__ |    Strategies: 37
[2026-02-06 12:44:42,600] INFO     | __main__ | 
üìù Generating queries from KB...
[2026-02-06 12:44:42,600] INFO     | scripts.query_builder | üî® QueryBuilder initialized with KB: stage3_knowledge_base.json
[2026-02-06 12:44:42,600] INFO     | scripts.query_builder | ‚úÖ KB loaded: 100 organisms, 10 strategies
[2026-02-06 12:44:42,601] INFO     | scripts.query_builder | ‚úÖ Generated 199 organism queries
[2026-02-06 12:44:42,601] INFO     | scripts.query_builder | ‚úÖ Generated 7 strategy queries
[2026-02-06 12:44:42,601] INFO     | scripts.query_builder | ‚úÖ Generated 5 disease queries
[2026-02-06 12:44:42,601] INFO     | scripts.query_builder | üìä Total queries generated: 211
[2026-02-06 12:44:42,601] INFO     | __main__ | ‚úÖ Generated 211 queries
[2026-02-06 12:44:42,601] INFO     | __main__ |    - comparative: 1
[2026-02-06 12:44:42,601] INFO     | __main__ |    - disease: 5
[2026-02-06 12:44:42,601] INFO     | __main__ |    - gene_expression: 98
[2026-02-06 12:44:42,601] INFO     | __main__ |    - organism: 100
[2026-02-06 12:44:42,601] INFO     | __main__ |    - strategy: 7
[2026-02-06 12:44:42,601] INFO     | scripts.query_builder | ‚úÖ Query cache saved: /mnt/64274670-793f-4763-b132-b5c7b1178bb0/lahumada/Pyner_PGRLAB/phase2/data/query_cache.json
[2026-02-06 12:44:42,601] INFO     | __main__ | 
üî® Building vector database...
[2026-02-06 12:44:42,602] INFO     | scripts.vector_db | üîç VectorDatabase initialized (FAISS: True)
[2026-02-06 12:44:42,602] INFO     | scripts.vector_db | üì• Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
[2026-02-06 12:44:42,602] INFO     | sentence_transformers.SentenceTransformer | Use pytorch device_name: cuda:0
[2026-02-06 12:44:42,602] INFO     | sentence_transformers.SentenceTransformer | Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
[2026-02-06 12:44:42,763] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:42,767] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json "HTTP/1.1 200 OK"
[2026-02-06 12:44:42,921] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:42,925] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json "HTTP/1.1 200 OK"
[2026-02-06 12:44:43,115] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:43,118] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json "HTTP/1.1 200 OK"
[2026-02-06 12:44:43,271] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/README.md "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:43,275] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/README.md "HTTP/1.1 200 OK"
[2026-02-06 12:44:43,429] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:43,433] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json "HTTP/1.1 200 OK"
[2026-02-06 12:44:43,585] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/sentence_bert_config.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:43,585] WARNING  | huggingface_hub.utils._http | Warning: You are sending unauthenticated requests to the HF Hub. Please set a HF_TOKEN to enable higher rate limits and faster downloads.
[2026-02-06 12:44:43,589] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/sentence_bert_config.json "HTTP/1.1 200 OK"
[2026-02-06 12:44:43,744] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/adapter_config.json "HTTP/1.1 404 Not Found"
[2026-02-06 12:44:43,893] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/config.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:43,897] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config.json "HTTP/1.1 200 OK"
[2026-02-06 12:44:44,099] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/config.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:44,103] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config.json "HTTP/1.1 200 OK"
[2026-02-06 12:44:44,254] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/tokenizer_config.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:44,257] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/tokenizer_config.json "HTTP/1.1 200 OK"
[2026-02-06 12:44:44,410] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=false&expand=false "HTTP/1.1 404 Not Found"
[2026-02-06 12:44:44,565] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main?recursive=true&expand=false "HTTP/1.1 200 OK"
[2026-02-06 12:44:44,748] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/resolve/main/1_Pooling/config.json "HTTP/1.1 307 Temporary Redirect"
[2026-02-06 12:44:44,751] INFO     | httpx | HTTP Request: HEAD https://huggingface.co/api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/1_Pooling%2Fconfig.json "HTTP/1.1 200 OK"
[2026-02-06 12:44:44,901] INFO     | httpx | HTTP Request: GET https://huggingface.co/api/models/sentence-transformers/all-MiniLM-L6-v2 "HTTP/1.1 200 OK"
[2026-02-06 12:44:45,003] INFO     | scripts.vector_db | ‚úÖ Embedder loaded (dims: 384)
[2026-02-06 12:44:45,004] INFO     | scripts.vector_db | üìù Embedding 211 queries...
[2026-02-06 12:44:45,273] INFO     | scripts.vector_db | üî® Creating FAISS index...
[2026-02-06 12:44:45,273] INFO     | scripts.vector_db | ‚úÖ Index created with 211 vectors
[2026-02-06 12:44:45,274] INFO     | scripts.vector_db | ‚úÖ Index saved: /mnt/64274670-793f-4763-b132-b5c7b1178bb0/lahumada/Pyner_PGRLAB/phase2/data/pyner_vectors.faiss
[2026-02-06 12:44:45,274] INFO     | scripts.vector_db | ‚úÖ Metadata saved: /mnt/64274670-793f-4763-b132-b5c7b1178bb0/lahumada/Pyner_PGRLAB/phase2/data/pyner_vectors_index.pkl
[2026-02-06 12:44:45,274] INFO     | __main__ | ‚úÖ Vector database created and saved
[2026-02-06 12:44:45,274] INFO     | __main__ |    Total vectors: 211
[2026-02-06 12:44:45,274] INFO     | __main__ |    Embedding dimension: 384
[2026-02-06 12:44:45,274] INFO     | __main__ | 
üîé Initializing retriever...
[2026-02-06 12:44:45,274] INFO     | scripts.vector_db | üîé Retriever initialized
[2026-02-06 12:44:45,274] INFO     | __main__ | ‚úÖ Retriever initialized
[2026-02-06 12:44:45,274] INFO     | __main__ | 
================================================================================
[2026-02-06 12:44:45,274] INFO     | __main__ | ‚úÖ PHASE 2 PIPELINE COMPLETE
[2026-02-06 12:44:45,274] INFO     | __main__ | ================================================================================
[2026-02-06 12:44:45,274] INFO     | __main__ | 
================================================================================
[2026-02-06 12:44:45,274] INFO     | __main__ | üîé TEST RETRIEVAL
[2026-02-06 12:44:45,274] INFO     | __main__ | ================================================================================
[2026-02-06 12:44:45,274] INFO     | __main__ | 
üîç Query: COVID-19 research
[2026-02-06 12:44:45,282] INFO     | __main__ |    1. [0.649] Molecular mechanisms of COVID-19 in Homo sapiens...
[2026-02-06 12:44:45,282] INFO     | __main__ |    2. [0.480] Research studies on Severe acute respiratory syndrome corona...
[2026-02-06 12:44:45,282] INFO     | __main__ |    3. [0.426] Research studies on Salmonella enterica...
[2026-02-06 12:44:45,282] INFO     | __main__ | 
üîç Query: Gene expression in humans
[2026-02-06 12:44:45,285] INFO     | __main__ |    1. [0.663] Gene expression patterns in Homo sapiens...
[2026-02-06 12:44:45,285] INFO     | __main__ |    2. [0.631] Gene expression patterns in human metagenome...
[2026-02-06 12:44:45,285] INFO     | __main__ |    3. [0.576] Gene expression patterns in human skin metagenome...
[2026-02-06 12:44:45,285] INFO     | __main__ | 
üîç Query: Bacterial genomics
[2026-02-06 12:44:45,287] INFO     | __main__ |    1. [0.597] Gene expression patterns in uncultured bacterium...
[2026-02-06 12:44:45,287] INFO     | __main__ |    2. [0.590] Gene expression patterns in bacterium...
[2026-02-06 12:44:45,287] INFO     | __main__ |    3. [0.584] Gene expression patterns in uncultured Bacilli bacterium...
[2026-02-06 12:44:45,287] INFO     | __main__ | 
================================================================================
[2026-02-06 12:44:45,287] INFO     | __main__ | 
üìä Phase 2 Status:
[2026-02-06 12:44:45,287] INFO     | __main__ |    kb_loaded: True
[2026-02-06 12:44:45,287] INFO     | __main__ |    queries_generated: 211
[2026-02-06 12:44:45,287] INFO     | __main__ |    vector_db_ready: True
[2026-02-06 12:44:45,287] INFO     | __main__ |    retriever_ready: True
[2026-02-06 12:44:45,287] INFO     | __main__ |    timestamp: 2026-02-06 12:44:45.287484
